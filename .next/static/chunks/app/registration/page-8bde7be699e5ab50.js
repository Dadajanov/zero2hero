(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[174],{6578:(e,s,t)=>{"use strict";t.d(s,{RegistrationWizard:()=>W});var r=t(95155),a=t(12115),i=t(20063),n=t(81130),l=t(26497),o=t(33070),d=t(32467),c=t(83101),u=t(2821),m=t(75889);function x(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,m.QP)((0,u.$)(s))}let p=(0,c.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function h(e){let{className:s,variant:t,size:a,asChild:i=!1,...n}=e,l=i?d.DX:"button";return(0,r.jsx)(l,{"data-slot":"button",className:x(p({variant:t,size:a,className:s})),...n})}function g(e){let{className:s,type:t,...a}=e;return(0,r.jsx)("input",{type:t,"data-slot":"input",className:x("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...a})}var v=t(10489);function f(e){let{className:s,...t}=e;return(0,r.jsx)(v.b,{"data-slot":"label",className:x("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}var b=t(58752),j=t(99051);function y(e){let{className:s,...t}=e;return(0,r.jsx)(b.bL,{"data-slot":"radio-group",className:x("grid gap-3",s),...t})}function N(e){let{className:s,...t}=e;return(0,r.jsx)(b.q7,{"data-slot":"radio-group-item",className:x("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,r.jsx)(b.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,r.jsx)(j.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var w=t(40389),k=t(24033),C=t(5917),S=t(12108);function z(e){let{...s}=e;return(0,r.jsx)(w.bL,{"data-slot":"select",...s})}function _(e){let{...s}=e;return(0,r.jsx)(w.WT,{"data-slot":"select-value",...s})}function I(e){let{className:s,size:t="default",children:a,...i}=e;return(0,r.jsxs)(w.l9,{"data-slot":"select-trigger","data-size":t,className:x("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...i,children:[a,(0,r.jsx)(w.In,{asChild:!0,children:(0,r.jsx)(k.A,{className:"size-4 opacity-50"})})]})}function A(e){let{className:s,children:t,position:a="popper",align:i="center",...n}=e;return(0,r.jsx)(w.ZL,{children:(0,r.jsxs)(w.UC,{"data-slot":"select-content",className:x("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,align:i,...n,children:[(0,r.jsx)(V,{}),(0,r.jsx)(w.LM,{className:x("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,r.jsx)(R,{})]})})}function P(e){let{className:s,children:t,...a}=e;return(0,r.jsxs)(w.q7,{"data-slot":"select-item",className:x("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...a,children:[(0,r.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(w.VF,{children:(0,r.jsx)(C.A,{className:"size-4"})})}),(0,r.jsx)(w.p4,{children:t})]})}function V(e){let{className:s,...t}=e;return(0,r.jsx)(w.PP,{"data-slot":"select-scroll-up-button",className:x("flex cursor-default items-center justify-center py-1",s),...t,children:(0,r.jsx)(S.A,{className:"size-4"})})}function R(e){let{className:s,...t}=e;return(0,r.jsx)(w.wn,{"data-slot":"select-scroll-down-button",className:x("flex cursor-default items-center justify-center py-1",s),...t,children:(0,r.jsx)(k.A,{className:"size-4"})})}var F=t(96386),E=t(22454),U=t(80549),L=t(95125);let X=t(95704).env.NEXT_PUBLIC_API_BASE_URL||"http://95.130.227.234:8000/v1",q=async e=>{let s=localStorage.getItem("language")||"en";return e.headers["X-Tenant-ID"]="1",e.headers["X-Device-ID"]="InnTouch",e.headers["x-innTouch-app-language"]=s,e},T=async e=>{var s,t;return console.error("[v0] API Error:",e),console.error("[v0] Error response:",e.response),console.error("[v0] Error response data:",null==(s=e.response)?void 0:s.data),console.error("[v0] Error status:",null==(t=e.response)?void 0:t.status),Promise.reject(e)},D=L.A.create({baseURL:X,timeout:3e4,withCredentials:!0});D.interceptors.request.use(q),D.defaults.shouldReturnOriginalResponse=!1,D.interceptors.response.use(e=>(console.log("[v0] Response interceptor - full response:",e),console.log("[v0] Response interceptor - data:",e.data),console.log("[v0] Response interceptor - status:",e.status),e.config.shouldReturnOriginalResponse||e.data&&"object"==typeof e.data||console.warn("[v0] Response data is not an object:",typeof e.data),e),T);class G{static async registerStudent(e){return(await D.post("/auth/students/sign-up",e)).data}static async sendVerificationCode(e){return(await D.post("/auth/send-code",e)).data}static async loginSendCode(e){return(await D.post("/auth/students/login",e)).data}static async loginVerifyCode(e){return(await D.post("/auth/students/confitm-otp",e)).data}}class O{static async fetchUniversities(){console.log("[v0] Calling universities API...");let e=await D.get("/universities/get-list");return console.log("[v0] Raw response:",e),console.log("[v0] Response data:",e.data),e.data}}function W(){let e=(0,i.useRouter)(),[s,t]=(0,a.useState)(0),[d,c]=(0,a.useState)(()=>localStorage.getItem("userLanguage")||"ru"),[u,m]=(0,a.useState)({firstName:"",lastName:"",registrationGoal:"internship",userStatus:"student",university:"",universityId:0,course:"1",phone:"",verificationCode:"",isPhoneVerified:!1}),[x,p]=(0,a.useState)({firstName:!1,lastName:!1,university:!1,course:!1,phone:!1}),[v,b]=(0,a.useState)(!1),[j,w]=(0,a.useState)(!1),[k,C]=(0,a.useState)(0),[S,V]=(0,a.useState)(""),[R,L]=(0,a.useState)("");(0,a.useEffect)(()=>{if(k>0){let e=setInterval(()=>{C(e=>e-1)},1e3);return()=>clearInterval(e)}},[k]);let X=()=>{let e=u.phone.replace(/\D/g,"");return 12===e.length&&e.startsWith("998")},[q,T]=(0,a.useState)(""),[D,W]=(0,a.useState)(!1),{universities:B=[],isLoading:K}=(()=>{let[e,s]=(0,a.useState)("ru");(0,a.useEffect)(()=>{s(localStorage.getItem("language")||"ru")},[]);let{data:t=[],isLoading:r}=(0,E.I)({queryKey:["universities-list",e],queryFn:async()=>{console.log("[v0] Fetching universities...");let e=await O.fetchUniversities();return(console.log("[v0] Universities response:",e),console.log("[v0] Universities is array:",Array.isArray(e)),Array.isArray(e))?(console.log("[v0] Universities length:",e.length),e):(console.error("[v0] Universities response is not an array:",typeof e),[])},staleTime:6e5});return console.log("[v0] Universities in hook:",t),console.log("[v0] Universities in hook is array:",Array.isArray(t)),{universities:t,isLoading:r}})(),Y=(0,U.n)({mutationFn:e=>G.registerStudent(e)}),J=e=>F.P[d][e],M=B.filter(e=>e.universityName.toLowerCase().includes(q.toLowerCase())),Q=async()=>{if(u.phone&&X()){b(!0),w(!1),V("");try{let e=u.phone.replace(/\D/g,"");console.log("[v0] Sending verification code to:",e),await G.sendVerificationCode({phoneNumber:e}),console.log("[v0] Verification code sent successfully"),w(!0),C(60)}catch(r){var e,s;console.error("[v0] Send code error:",r),console.error("[v0] Error response:",r.response),console.error("[v0] Error data:",null==(e=r.response)?void 0:e.data);let t=J("sendCodeError");(null==(s=r.response)?void 0:s.data)&&("string"==typeof r.response.data?t=r.response.data:r.response.data.message?t=r.response.data.message:r.response.data.error&&(t=r.response.data.error)),V(t)}finally{b(!1)}}},Z=()=>{"1234"===u.verificationCode&&m({...u,isPhoneVerified:!0})};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,r.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:[J("step")," ",s+1," ",J("of")," ",7]})}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)(n.P.div,{className:"bg-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:"".concat((s+1)/7*100,"%")},transition:{duration:.3}})})]}),(0,r.jsx)(l.N,{mode:"wait",children:(0,r.jsx)(n.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(()=>{switch(s){case 0:return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:J("languageSelection")}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-4",children:["ru","uz","en"].map(e=>(0,r.jsx)("button",{onClick:()=>{c(e),localStorage.setItem("userLanguage",e)},className:"py-3 px-4 rounded-lg font-semibold transition-all ".concat(d===e?"bg-blue-600 text-white shadow-lg scale-105":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"),children:e.toUpperCase()},e))})]});case 1:return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:J("greeting")}),(0,r.jsx)("p",{className:"text-gray-600",children:J("greetingText")}),(0,r.jsx)("div",{className:"rounded-lg overflow-hidden bg-black",children:(0,r.jsxs)("video",{className:"w-full h-auto",controls:!0,poster:"/images/video-poster.jpg",children:[(0,r.jsx)("source",{src:"/videos/greeting.mp4",type:"video/mp4"}),(0,r.jsx)("p",{className:"text-white p-4",children:"Your browser does not support the video tag."})]})})]});case 2:return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:J("nameAndSurname")}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(f,{htmlFor:"firstName",className:"mb-2 block",children:[J("firstName")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(g,{id:"firstName",value:u.firstName,onChange:e=>{m({...u,firstName:e.target.value}),p({...x,firstName:!1})},placeholder:J("firstName"),className:x.firstName?"border-red-500":""}),x.firstName&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-1",children:J("firstNameRequired")})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(f,{htmlFor:"lastName",className:"mb-2 block",children:[J("lastName")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(g,{id:"lastName",value:u.lastName,onChange:e=>{m({...u,lastName:e.target.value}),p({...x,lastName:!1})},placeholder:J("lastName"),className:x.lastName?"border-red-500":""}),x.lastName&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-1",children:J("lastNameRequired")})]})]})]});case 3:return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:J("registrationGoal")}),(0,r.jsxs)(y,{value:u.registrationGoal,onValueChange:e=>m({...u,registrationGoal:e}),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(N,{value:"internship",id:"internship"}),(0,r.jsx)(f,{htmlFor:"internship",children:J("internship")})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(N,{value:"work",id:"work"}),(0,r.jsx)(f,{htmlFor:"work",children:J("work")})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(N,{value:"internship_work",id:"internship_work"}),(0,r.jsx)(f,{htmlFor:"internship_work",children:J("internshipAndWork")})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:J("userStatus")}),(0,r.jsxs)(y,{value:u.userStatus,onValueChange:e=>m({...u,userStatus:e}),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(N,{value:"student",id:"student"}),(0,r.jsx)(f,{htmlFor:"student",children:J("student")})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(N,{value:"graduate",id:"graduate"}),(0,r.jsx)(f,{htmlFor:"graduate",children:J("graduate")})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(N,{value:"applicant",id:"applicant"}),(0,r.jsx)(f,{htmlFor:"applicant",children:J("applicant")})]})]})]})]});case 4:return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:J("universityAndCourse")}),!K&&0===B.length&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700 text-sm",children:J("universitiesFetchError")}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(f,{className:"mb-2 block",children:[J("universitySelection")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(g,{placeholder:J("searchUniversity"),value:u.university,onChange:e=>{let s=e.target.value;m({...u,university:s,universityId:0}),W(!0),p({...x,university:!1})},onFocus:()=>W(!0),onBlur:()=>{setTimeout(()=>W(!1),200)},className:x.university?"border-red-500":""}),D&&(0,r.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:K?(0,r.jsx)("div",{className:"p-3 text-sm text-gray-500",children:"Loading..."}):M.length>0?M.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>{m({...u,university:e.universityName,universityId:e.universityId}),W(!1),p({...x,university:!1})},className:"w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors text-sm",children:e.universityName},e.universityId)):(0,r.jsx)("div",{className:"p-3 text-sm text-gray-500",children:"No universities found. You can type your own university name."})})]}),x.university&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-1",children:J("universityRequired")})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(f,{className:"mb-2 block",children:[J("courseSelection")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)(z,{value:u.course,onValueChange:e=>{m({...u,course:e}),p({...x,course:!1})},children:[(0,r.jsx)(I,{className:x.course?"border-red-500":"",children:(0,r.jsx)(_,{placeholder:J("selectCourse")})}),(0,r.jsx)(A,{children:[1,2,3,4,5].map(e=>(0,r.jsxs)(P,{value:e.toString(),children:[e," ",J("course")]},e))})]}),x.course&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-1",children:J("courseRequired")})]})]})]});case 5:return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:J("phoneAuthorization")}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(f,{htmlFor:"phone",className:"mb-2 block",children:[J("phone")," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(o.K9,{id:"phone",format:"+998#########",mask:"_",value:u.phone,onValueChange:e=>{m({...u,phone:e.formattedValue}),p({...x,phone:!1}),V("")},placeholder:"+998(XX)-XXX-XX- XX",disabled:u.isPhoneVerified,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(!X()&&u.phone.length>0?"border-red-500":"")}),!X()&&u.phone.length>0&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-1",children:J("phoneValidation")})]}),!u.isPhoneVerified&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h,{onClick:Q,className:"w-full",disabled:!X()||v||k>0,children:v?J("sending"):k>0?"".concat(J("resend")," (").concat(k,"s)"):j?J("resend"):J("sendCode")}),S&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700 text-sm",children:S}),j&&k>0&&!S&&(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-blue-700",children:J("codeSent")}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f,{htmlFor:"code",className:"mb-2 block",children:J("enterCode")}),(0,r.jsx)(o.K9,{id:"code",format:"####",value:u.verificationCode,onValueChange:e=>m({...u,verificationCode:e.value}),placeholder:"1234",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:J("testCode")})]}),(0,r.jsx)(h,{onClick:Z,className:"w-full",children:J("verifyCode")})]}),u.isPhoneVerified&&(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-green-700",children:J("phoneVerified")})]})]});case 6:return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:J("completion")}),(0,r.jsx)("p",{className:"text-gray-600",children:J("completionText")}),R&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700 text-sm",children:R}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 space-y-3",children:[(0,r.jsxs)("h3",{className:"font-semibold text-gray-800",children:[J("yourData"),":"]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[J("language"),":"]})," ",d.toUpperCase()]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[J("name"),":"]})," ",u.firstName," ",u.lastName]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[J("goal"),":"]})," ",J(u.registrationGoal)]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[J("status"),":"]})," ",J(u.userStatus)]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[J("university"),":"]})," ",u.university]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[J("course"),":"]})," ",u.course]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[J("phone"),":"]})," ",u.phone]})]})]})]});default:return null}})()},s)}),(0,r.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,r.jsx)(h,{onClick:()=>{s>0&&(t(s-1),p({firstName:!1,lastName:!1,university:!1,course:!1,phone:!1}))},disabled:0===s,variant:"outline",children:J("back")}),(0,r.jsx)(h,{onClick:()=>{(()=>{let e={...x},t=!0;switch(s){case 2:u.firstName.trim()||(e.firstName=!0,t=!1),u.lastName.trim()||(e.lastName=!0,t=!1);break;case 4:u.university||(e.university=!0,t=!1),u.course||(e.course=!0,t=!1);break;case 5:u.isPhoneVerified||(t=!1)}return p(e),t})()&&(s<6?t(s+1):(()=>{let s={name:"".concat(u.firstName," ").concat(u.lastName),phoneNumber:u.phone,purpose:u.registrationGoal,status:u.userStatus,universityCourse:Number.parseInt(u.course),universityId:u.universityId};L(""),Y.mutate(s,{onSuccess:s=>{console.log("[v0] Registration successful:",s),localStorage.setItem("registrationData",JSON.stringify(s)),e.push("/profile")},onError:e=>{console.error("[v0] Registration failed:",e),L(J("registrationError"))}})})())},disabled:Y.isPending||!(()=>{switch(s){case 0:case 1:case 3:case 6:return!0;case 2:return""!==u.firstName.trim()&&""!==u.lastName.trim();case 4:return""!==u.university&&""!==u.course;case 5:return u.isPhoneVerified;default:return!1}})(),children:6===s?J("register"):J("next")})]})]})})}},53537:(e,s,t)=>{Promise.resolve().then(t.bind(t,6578))}},e=>{e.O(0,[565,70,141,512,386,441,493,358],()=>e(e.s=53537)),_N_E=e.O()}]);