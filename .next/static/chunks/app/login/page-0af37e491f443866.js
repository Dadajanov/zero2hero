(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{21264:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var l=t(95155),r=t(12115),a=t(81130);let n=[{code:"ru",flag:"\uD83C\uDDF7\uD83C\uDDFA",name:"Русский"},{code:"uz",flag:"\uD83C\uDDFA\uD83C\uDDFF",name:"O'zbek"},{code:"en",flag:"\uD83C\uDDEC\uD83C\uDDE7",name:"English"}];function o(){let[e,s]=(0,r.useState)("ru"),[t,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("userLanguage");e&&s(e)},[]);let d=n.find(s=>s.code===e)||n[0];return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)(a.P.button,{onClick:()=>o(!t),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",whileHover:{scale:1.05},children:[(0,l.jsx)("span",{className:"text-2xl",children:d.flag}),(0,l.jsx)("span",{className:"hidden sm:inline font-medium",children:d.code.toUpperCase()})]}),t&&(0,l.jsx)(a.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute right-0 mt-2 bg-white rounded-lg shadow-lg border border-gray-200 py-2 min-w-[150px] z-50",children:n.map(t=>(0,l.jsxs)("button",{onClick:()=>{var e;s(e=t.code),localStorage.setItem("userLanguage",e),o(!1),window.location.reload()},className:"w-full px-4 py-2 text-left hover:bg-gray-100 transition-colors flex items-center gap-3 ".concat(e===t.code?"bg-blue-50 text-primary":""),children:[(0,l.jsx)("span",{className:"text-xl",children:t.flag}),(0,l.jsx)("span",{className:"font-medium",children:t.name})]},t.code))})]})}},45404:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var l=t(95155),r=t(21264),a=t(96386),n=t(20063),o=t(12115),d=t(33070);function i(){let e=(0,n.useRouter)(),[s,t]=(0,o.useState)("ru"),[i,c]=(0,o.useState)(""),[u,m]=(0,o.useState)(""),[x,g]=(0,o.useState)("phone"),[h,b]=(0,o.useState)(!1),[p,f]=(0,o.useState)(""),[y,v]=(0,o.useState)(0);(0,o.useEffect)(()=>{let e=localStorage.getItem("userLanguage");e&&t(e)},[]),(0,o.useEffect)(()=>{if(y>0){let e=setInterval(()=>{v(e=>e-1)},1e3);return()=>clearInterval(e)}},[y]);let j=e=>(0,a.s)(s,e),N=e=>e.replace(/[^0-9]/g,""),w=async e=>{e&&e.preventDefault(),f("");let s=N(i);if(12!==s.length||!s.startsWith("998"))return void f(j("phoneValidation"));b(!0);try{g("code"),v(60),f("")}catch(e){var t,l,r,a;console.error("[v0] Login send code error:",e),f((null==(l=e.response)||null==(t=l.data)?void 0:t.message)||(null==(a=e.response)||null==(r=a.data)?void 0:r.error)||e.message||j("sendCodeError"))}finally{b(!1)}},k=async s=>{if(s.preventDefault(),f(""),4!==u.length)return void f(j("invalidCode"));b(!0);try{N(i),localStorage.setItem("isAuthenticated","true"),e.push("/profile")}catch(e){var t,l,r,a;console.error("[v0] Login verify code error:",e),f((null==(l=e.response)||null==(t=l.data)?void 0:t.message)||(null==(a=e.response)||null==(r=a.data)?void 0:r.error)||e.message||j("loginFailed"))}finally{b(!1)}};return(0,l.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[(0,l.jsx)("header",{className:"sticky top-0 z-50 bg-white shadow-md",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-primary cursor-pointer",onClick:()=>e.push("/"),children:"ZERO 2 HERO"}),(0,l.jsx)(r.A,{})]})}),(0,l.jsx)("div",{className:"flex items-center justify-center p-4 py-20 flex-grow",children:(0,l.jsx)("div",{className:"w-full max-w-md",children:(0,l.jsxs)("div",{className:"rounded-2xl shadow-lg p-8 bg-white",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:j("loginTitle")}),"phone"===x?(0,l.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[j("enterPhoneNumber")," ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(d.K9,{format:"+998 (##) - ### - ## - ##",mask:"_",value:i,onValueChange:e=>{c(e.formattedValue),f("")},placeholder:"+998 (90) - 123 - 45 - 67",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p&&(0,l.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,l.jsx)("p",{className:"text-sm text-red-600",children:p})}),(0,l.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:h?j("sending"):j("sendCode")})]}):(0,l.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,l.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg mb-4",children:(0,l.jsx)("p",{className:"text-sm text-green-600",children:j("verificationCodeSent")})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[j("enterVerificationCode")," ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(d.K9,{format:"####",mask:"_",value:u,onValueChange:e=>{m(e.value),f("")},placeholder:"1234",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-center text-2xl tracking-widest"})]}),p&&(0,l.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,l.jsx)("p",{className:"text-sm text-red-600",children:p})}),(0,l.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:h?j("sending"):j("loginWithCode")}),(0,l.jsx)("button",{type:"button",onClick:()=>{0===y&&w()},disabled:y>0,className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:y>0?"".concat(j("resend")," (").concat(y,"s)"):j("resend")}),(0,l.jsx)("button",{type:"button",onClick:()=>{g("phone"),m(""),f("")},className:"w-full text-blue-600 hover:underline text-sm",children:j("back")})]}),(0,l.jsxs)("p",{className:"text-center text-gray-700 mt-4",children:[j("noAccount")," ",(0,l.jsx)("a",{href:"/registration",className:"text-blue-600 font-semibold hover:underline",children:j("register")})]})]})})}),(0,l.jsx)("footer",{className:"bg-white border-t border-gray-200 py-8 mt-auto",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:(0,l.jsx)("p",{className:"text-gray-500 text-sm",children:j("footer")})})})]})}},48526:(e,s,t)=>{Promise.resolve().then(t.bind(t,45404))}},e=>{e.O(0,[565,70,386,441,493,358],()=>e(e.s=48526)),_N_E=e.O()}]);